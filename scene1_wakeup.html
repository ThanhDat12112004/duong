<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Scene 1: Thức Dậy - Cao Thùy Dương</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        overflow: hidden;
      }

      /* Bedroom Background */
      .bedroom {
        width: 100vw;
        height: 100vh;
        background: linear-gradient(180deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 3s ease-out;
      }

      .bedroom.morning {
        background: linear-gradient(180deg, #ffb75e 0%, #ffa07a 50%, #87ceeb 100%);
      }

      /* Window with morning light */
      .window {
        position: absolute;
        top: 10%;
        right: 15%;
        width: 200px;
        height: 250px;
        background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        border: 10px solid #8b4513;
        border-radius: 10px;
        box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
        transition: all 3s ease-out;
        overflow: hidden;
      }

      .window.sunrise {
        background: linear-gradient(135deg, #ffe5b4 0%, #ffd700 100%);
        box-shadow: inset 0 0 50px rgba(255, 255, 0, 0.3), 0 0 100px rgba(255, 215, 0, 0.6);
        animation: morningLight 2s ease-in-out infinite;
      }

      @keyframes morningLight {
        0%,
        100% {
          opacity: 0.8;
        }
        50% {
          opacity: 1;
        }
      }

      /* Curtain */
      .curtain {
        position: absolute;
        top: 0;
        width: 50%;
        height: 100%;
        background: linear-gradient(180deg, #8b4513 0%, #a0522d 100%);
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        transition: transform 2s ease-out;
      }

      .curtain.left {
        left: 0;
        transform-origin: left center;
      }

      .curtain.right {
        right: 0;
        transform-origin: right center;
      }

      .window.sunrise .curtain.left {
        transform: translateX(-100%);
      }

      .window.sunrise .curtain.right {
        transform: translateX(100%);
      }

      /* Sun rays through window */
      .sun-ray {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 4px;
        height: 200px;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 200, 0) 0%,
          rgba(255, 255, 200, 0.6) 50%,
          rgba(255, 255, 200, 0) 100%
        );
        transform-origin: top center;
        opacity: 0;
        transition: opacity 2s ease-out;
      }

      .window.sunrise .sun-ray {
        opacity: 1;
        animation: rayRotate 8s linear infinite;
      }

      @keyframes rayRotate {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      /* Tree shadow outside window */
      .tree-shadow {
        position: absolute;
        bottom: 20%;
        right: 10%;
        font-size: 60px;
        opacity: 0;
        filter: blur(2px);
        animation: treeSway 4s ease-in-out infinite;
      }

      .window.sunrise ~ .tree-shadow {
        opacity: 0.3;
      }

      @keyframes treeSway {
        0%,
        100% {
          transform: rotate(-3deg) translateX(0);
        }
        50% {
          transform: rotate(3deg) translateX(5px);
        }
      }

      /* Birds */
      .bird {
        position: absolute;
        font-size: 30px;
        opacity: 0;
        animation: birdFly 8s ease-in-out infinite;
      }

      .bird.show {
        opacity: 1;
      }

      @keyframes birdFly {
        0% {
          transform: translateX(-100px) translateY(0) rotate(-10deg);
        }
        50% {
          transform: translateX(calc(100vw + 100px)) translateY(-30px) rotate(10deg);
        }
        100% {
          transform: translateX(calc(100vw + 100px)) translateY(-60px) rotate(-10deg);
        }
      }

      /* Music notes for birds singing */
      .music-note {
        position: absolute;
        font-size: 25px;
        opacity: 0;
        animation: noteFloat 3s ease-out infinite;
      }

      .music-note.show {
        opacity: 1;
      }

      @keyframes noteFloat {
        0% {
          transform: translateY(0) scale(0.5) rotate(0deg);
          opacity: 0;
        }
        50% {
          opacity: 1;
          transform: translateY(-60px) scale(1) rotate(20deg);
        }
        100% {
          transform: translateY(-120px) scale(0.5) rotate(40deg);
          opacity: 0;
        }
      }

      /* Bed */
      .bed {
        position: absolute;
        bottom: 15%;
        left: 50%;
        transform: translateX(-50%);
        width: 500px;
        height: 200px;
        background: linear-gradient(180deg, #e8f5f7 0%, #b0e0e6 100%);
        border-radius: 20px;
        border: 5px solid #87ceeb;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }

      .pillow {
        position: absolute;
        top: -30px;
        left: 30px;
        width: 120px;
        height: 80px;
        background: linear-gradient(135deg, #fff5ee 0%, #ffe4e1 100%);
        border-radius: 40px;
        border: 3px solid #ffb6c1;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      .blanket {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 70%;
        background: linear-gradient(135deg, #ff69b4 0%, #ffb6c1 100%);
        border-radius: 0 0 20px 20px;
        animation: breathe 2s ease-in-out infinite;
      }

      @keyframes breathe {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-5px);
        }
      }

      /* Character sleeping */
      .character {
        position: absolute;
        top: 30%;
        left: 25%;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
        animation: breathe 2s ease-in-out infinite;
      }

      .character-face {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        border: 5px solid #fff;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        object-fit: cover;
        transform: rotate(-15deg);
        transition: all 0.5s ease-out;
      }

      /* Character body (anime style) */
      .character-body {
        width: 120px;
        height: 80px;
        background: linear-gradient(180deg, #ffb6c1 0%, #ffc0cb 100%);
        border-radius: 60px 60px 40px 40px;
        position: relative;
        margin-top: -20px;
      }

      /* Arms */
      .character-arms {
        position: relative;
        width: 100%;
        height: 100%;
      }

      .arm {
        position: absolute;
        width: 25px;
        height: 60px;
        background: linear-gradient(180deg, #ffb6c1 0%, #ffc0cb 100%);
        border-radius: 15px;
        top: 10px;
      }

      .arm.left {
        left: -20px;
        transform: rotate(30deg);
        transform-origin: top center;
      }

      .arm.right {
        right: -20px;
        transform: rotate(-30deg);
        transform-origin: top center;
      }

      /* Waking up animations */
      .character.waking-up .character-face {
        animation: faceWakeUp 3s ease-out forwards;
      }

      @keyframes faceWakeUp {
        0% {
          transform: rotate(-15deg);
          filter: brightness(0.8);
        }
        30% {
          transform: rotate(-10deg);
        }
        60% {
          transform: rotate(-5deg);
          filter: brightness(0.9);
        }
        100% {
          transform: rotate(0deg);
          filter: brightness(1);
        }
      }

      .character.waking-up .arm.left {
        animation: leftArmStretch 3s ease-out forwards;
      }

      @keyframes leftArmStretch {
        0% {
          transform: rotate(30deg);
        }
        50% {
          transform: rotate(-90deg) translateY(-20px);
        }
        100% {
          transform: rotate(30deg);
        }
      }

      .character.waking-up .arm.right {
        animation: rightArmStretch 3s ease-out forwards;
      }

      @keyframes rightArmStretch {
        0% {
          transform: rotate(-30deg);
        }
        50% {
          transform: rotate(90deg) translateY(-20px);
        }
        100% {
          transform: rotate(-30deg);
        }
      }

      /* Sitting up animation */
      .character.sitting-up {
        animation: sitUp 2s ease-out forwards;
      }

      @keyframes sitUp {
        0% {
          transform: translateY(0) rotate(0deg);
        }
        100% {
          transform: translateY(-50px) rotate(0deg);
        }
      }

      /* Yawn effect */
      .yawn-bubble {
        position: absolute;
        top: -60px;
        left: 50%;
        transform: translateX(-50%) scale(0);
        font-size: 50px;
        opacity: 0;
      }

      .yawn-bubble.show {
        animation: yawnAppear 2s ease-out forwards;
      }

      @keyframes yawnAppear {
        0% {
          transform: translateX(-50%) scale(0) rotate(0deg);
          opacity: 0;
        }
        50% {
          transform: translateX(-50%) scale(1.3) rotate(10deg);
          opacity: 1;
        }
        100% {
          transform: translateX(-50%) scale(0.8) rotate(20deg);
          opacity: 0;
        }
      }

      /* Rubbing eyes gesture */
      .rub-eyes {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 30px;
        opacity: 0;
      }

      .rub-eyes.show {
        animation: rubbing 2s ease-in-out forwards;
      }

      @keyframes rubbing {
        0%,
        100% {
          opacity: 0;
          transform: translate(-50%, -50%) scale(0.5);
        }
        50% {
          opacity: 1;
          transform: translate(-50%, -50%) scale(1);
        }
      }

      .sleep-zzz {
        position: absolute;
        top: -50px;
        right: -50px;
        font-size: 40px;
        animation: floatUp 3s ease-in-out infinite;
      }

      @keyframes floatUp {
        0% {
          transform: translateY(0) scale(0.5);
          opacity: 0;
        }
        50% {
          opacity: 1;
        }
        100% {
          transform: translateY(-80px) scale(1.2);
          opacity: 0;
        }
      }

      /* Stars for night */
      .star {
        position: absolute;
        color: white;
        font-size: 20px;
        animation: twinkle 2s ease-in-out infinite;
      }

      .bedroom.morning .star {
        opacity: 0;
        transition: opacity 2s ease-out;
      }

      @keyframes twinkle {
        0%,
        100% {
          opacity: 0.3;
          transform: scale(1);
        }
        50% {
          opacity: 1;
          transform: scale(1.2);
        }
      }

      /* Alarm Clock */
      .alarm-clock {
        position: absolute;
        top: 20%;
        right: 30%;
        font-size: 100px;
        opacity: 0;
        transform: scale(0.5);
        filter: drop-shadow(0 5px 15px rgba(255, 0, 0, 0.5));
      }

      .alarm-clock.ringing {
        opacity: 1;
        animation: ring 0.5s ease-in-out infinite;
      }

      @keyframes ring {
        0%,
        100% {
          transform: rotate(-10deg) scale(1);
        }
        50% {
          transform: rotate(10deg) scale(1.1);
        }
      }

      /* Phone vibration on bed */
      .phone-on-bed {
        position: absolute;
        bottom: 25%;
        right: 25%;
        font-size: 80px;
        opacity: 0;
        z-index: 5;
      }

      .phone-on-bed.vibrating {
        opacity: 1;
        animation: vibrate 0.1s ease-in-out infinite;
      }

      @keyframes vibrate {
        0%,
        100% {
          transform: translateX(0) rotate(0deg);
        }
        25% {
          transform: translateX(-3px) rotate(-2deg);
        }
        75% {
          transform: translateX(3px) rotate(2deg);
        }
      }

      /* Sound waves from alarm */
      .sound-wave {
        position: absolute;
        top: 20%;
        right: 30%;
        width: 100px;
        height: 100px;
        border: 3px solid rgba(255, 0, 0, 0.8);
        border-radius: 50%;
        opacity: 0;
      }

      .sound-wave.show {
        animation: waveExpand 2s ease-out infinite;
      }

      @keyframes waveExpand {
        0% {
          transform: scale(1);
          opacity: 0.8;
        }
        100% {
          transform: scale(3);
          opacity: 0;
        }
      }

      /* Notification icons flying */
      .notification-icon {
        position: absolute;
        bottom: 25%;
        right: 25%;
        font-size: 40px;
        opacity: 0;
        z-index: 6;
      }

      .notification-icon.show {
        animation: iconFly 2s ease-out forwards;
      }

      @keyframes iconFly {
        0% {
          transform: translateY(0) scale(0.5) rotate(0deg);
          opacity: 0;
        }
        50% {
          opacity: 1;
          transform: translateY(-100px) scale(1) rotate(180deg);
        }
        100% {
          transform: translateY(-200px) scale(0.5) rotate(360deg);
          opacity: 0;
        }
      }

      /* Screen flash effect */
      .screen-flash {
        position: absolute;
        bottom: 23%;
        right: 23%;
        width: 90px;
        height: 120px;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.8) 0%,
          rgba(135, 206, 250, 0.4) 50%,
          transparent 100%
        );
        border-radius: 10px;
        opacity: 0;
        z-index: 4;
      }

      .screen-flash.show {
        animation: flashPulse 1s ease-in-out infinite;
      }

      @keyframes flashPulse {
        0%,
        100% {
          opacity: 0;
          transform: scale(1);
        }
        50% {
          opacity: 0.6;
          transform: scale(1.1);
        }
      }

      /* Time Display */
      .time-display {
        position: absolute;
        top: 10%;
        left: 10%;
        background: rgba(0, 0, 0, 0.8);
        color: #444;
        font-size: 60px;
        font-weight: bold;
        padding: 20px 40px;
        border-radius: 20px;
        font-family: 'Courier New', monospace;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.5);
        transition: all 1s ease-out;
      }

      .time-display.alarm-active {
        color: #ff0000;
        box-shadow: 0 5px 20px rgba(255, 0, 0, 0.5);
        animation: blink 1s ease-in-out infinite;
      }

      @keyframes blink {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.7;
        }
      }

      /* Alarm Button */
      .alarm-button {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0);
        background: linear-gradient(135deg, #ff4757 0%, #ff6348 100%);
        color: white;
        font-size: 32px;
        font-weight: bold;
        padding: 30px 60px;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        box-shadow: 0 10px 30px rgba(255, 71, 87, 0.5);
        opacity: 0;
        z-index: 100;
      }

      .alarm-button.show {
        animation: buttonAppear 0.5s ease-out forwards, pulse 1s ease-in-out infinite 0.5s;
      }

      @keyframes buttonAppear {
        to {
          transform: translate(-50%, -50%) scale(1);
          opacity: 1;
        }
      }

      .alarm-button:hover {
        transform: translate(-50%, -50%) scale(1.1);
        box-shadow: 0 15px 40px rgba(255, 71, 87, 0.7);
      }

      .alarm-button:active {
        transform: translate(-50%, -50%) scale(0.95);
      }

      @keyframes pulse {
        0%,
        100% {
          transform: translate(-50%, -50%) scale(1);
        }
        50% {
          transform: translate(-50%, -50%) scale(1.05);
        }
      }

      /* Hidden state */
      .hidden {
        display: none;
      }

      /* Wake up state */
      .waking-up .character {
        animation: wakeUp 2s ease-out forwards;
      }

      @keyframes wakeUp {
        0% {
          transform: rotate(0deg) scale(1);
        }
        50% {
          transform: rotate(5deg) scale(1.1);
        }
        100% {
          transform: rotate(0deg) scale(1);
        }
      }

      /* Hand reaching for phone */
      .hand-reaching {
        position: absolute;
        bottom: 20%;
        left: 20%;
        font-size: 80px;
        opacity: 0;
        z-index: 99;
        transform: rotate(-30deg);
      }

      .hand-reaching.show {
        animation: handReach 2s ease-out forwards;
      }

      @keyframes handReach {
        0% {
          opacity: 0;
          transform: translateX(-100px) translateY(50px) rotate(-30deg);
        }
        50% {
          opacity: 1;
          transform: translateX(150px) translateY(-50px) rotate(-10deg);
        }
        100% {
          opacity: 0;
          transform: translateX(300px) translateY(-100px) rotate(10deg);
        }
      }

      /* Phone */
      .phone {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0);
        width: 350px;
        height: 600px;
        background: #000;
        border-radius: 40px;
        padding: 15px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        opacity: 0;
        z-index: 100;
      }

      .phone.show {
        animation: phoneAppear 1s ease-out forwards;
      }

      @keyframes phoneAppear {
        0% {
          transform: translate(-50%, -50%) scale(0) rotate(-180deg);
          opacity: 0;
        }
        50% {
          transform: translate(-50%, -50%) scale(1.1) rotate(10deg);
        }
        100% {
          transform: translate(-50%, -50%) scale(1) rotate(0deg);
          opacity: 1;
        }
      }

      /* Unlock swipe indicator */
      .unlock-swipe {
        position: absolute;
        bottom: 40px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
        opacity: 0;
      }

      .unlock-swipe.show {
        animation: swipeHint 2s ease-in-out infinite;
      }

      @keyframes swipeHint {
        0%,
        100% {
          opacity: 0.3;
          transform: translateX(-50%) translateY(0);
        }
        50% {
          opacity: 1;
          transform: translateX(-50%) translateY(-10px);
        }
      }

      .swipe-arrow {
        font-size: 30px;
        color: white;
      }

      .swipe-text {
        color: rgba(255, 255, 255, 0.8);
        font-size: 14px;
      }

      /* Swipe trail effect */
      .swipe-trail {
        position: absolute;
        bottom: 100px;
        left: 50%;
        width: 60px;
        height: 60px;
        background: radial-gradient(circle, rgba(135, 206, 250, 0.6) 0%, transparent 70%);
        border-radius: 50%;
        transform: translateX(-50%);
        opacity: 0;
        pointer-events: none;
      }

      .swipe-trail.active {
        animation: swipeTrailMove 1s ease-out forwards;
      }

      @keyframes swipeTrailMove {
        0% {
          opacity: 1;
          transform: translateX(-50%) translateY(0) scale(1);
          bottom: 100px;
        }
        100% {
          opacity: 0;
          transform: translateX(-50%) translateY(-400px) scale(2);
          bottom: 500px;
        }
      }

      /* Fingerprint icon */
      .fingerprint {
        position: absolute;
        bottom: 80px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 60px;
        opacity: 0.3;
        filter: drop-shadow(0 0 10px rgba(135, 206, 250, 0.5));
      }

      .phone-screen {
        width: 100%;
        height: 100%;
        background: linear-gradient(180deg, #1a1a2e 0%, #16213e 100%);
        border-radius: 30px;
        position: relative;
        overflow: hidden;
      }

      .phone-time {
        text-align: center;
        color: white;
        font-size: 60px;
        font-weight: bold;
        padding-top: 60px;
        margin-bottom: 10px;
      }

      .phone-date {
        text-align: center;
        color: #aaa;
        font-size: 18px;
        margin-bottom: 40px;
      }

      .notification {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(20px);
        margin: 20px;
        padding: 20px;
        border-radius: 20px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        transform: translateY(-100px);
        opacity: 0;
      }

      .notification.show {
        animation: notificationSlide 0.5s ease-out forwards;
      }

      @keyframes notificationSlide {
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      .notification-header {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 10px;
      }

      .notification-icon {
        width: 50px;
        height: 50px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 30px;
      }

      .notification-title {
        flex: 1;
      }

      .notification-app {
        color: white;
        font-weight: bold;
        font-size: 16px;
      }

      .notification-time-small {
        color: #aaa;
        font-size: 14px;
      }

      .notification-message {
        color: white;
        font-size: 16px;
        line-height: 1.6;
        margin-top: 10px;
      }

      .phone-unlock-hint {
        position: absolute;
        bottom: 40px;
        left: 50%;
        transform: translateX(-50%);
        color: white;
        font-size: 16px;
        text-align: center;
        animation: fadeInOut 2s ease-in-out infinite;
      }

      @keyframes fadeInOut {
        0%,
        100% {
          opacity: 0.5;
        }
        50% {
          opacity: 1;
        }
      }

      /* Swipe up indicator */
      .swipe-indicator {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 40px;
        animation: swipeUp 1.5s ease-in-out infinite;
      }

      @keyframes swipeUp {
        0%,
        100% {
          transform: translateX(-50%) translateY(0);
          opacity: 0.5;
        }
        50% {
          transform: translateX(-50%) translateY(-20px);
          opacity: 1;
        }
      }

      /* Messenger Full Screen */
      .messenger-screen {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: white;
        transform: translateY(100%);
        opacity: 0;
      }

      .messenger-screen.show {
        animation: screenSlideUp 0.5s ease-out forwards;
      }

      @keyframes screenSlideUp {
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      .messenger-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 20px;
        color: white;
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .back-button {
        font-size: 24px;
        cursor: pointer;
      }

      .messenger-avatar-big {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
      }

      .messenger-title {
        flex: 1;
        font-weight: bold;
        font-size: 18px;
      }

      .messenger-content {
        padding: 20px;
        height: calc(100% - 80px);
        overflow-y: auto;
      }

      .message-bubble {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 15px 20px;
        border-radius: 20px 20px 20px 5px;
        max-width: 80%;
        margin-bottom: 15px;
        font-size: 16px;
        line-height: 1.6;
        transform: scale(0);
        animation: bubblePop 0.3s ease-out forwards;
      }

      .message-bubble.reply {
        background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%);
        border-radius: 20px 20px 5px 20px;
        margin-left: auto;
        margin-right: 0;
      }

      @keyframes bubblePop {
        0% {
          transform: scale(0);
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
        }
      }

      .message-time {
        color: rgba(255, 255, 255, 0.7);
        font-size: 12px;
        margin-top: 5px;
      }

      /* Morning Routine Scenes */
      .routine-scene {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: none;
        align-items: center;
        justify-content: center;
        background: linear-gradient(180deg, #e8f5f7 0%, #b0e0e6 100%);
      }

      .routine-scene.active {
        display: flex;
        animation: sceneSlideIn 0.5s ease-out;
      }

      @keyframes sceneSlideIn {
        from {
          opacity: 0;
          transform: translateX(100%);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .routine-content {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 30px;
      }

      .routine-character {
        width: 200px;
        height: 200px;
        border-radius: 50%;
        border: 8px solid white;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        object-fit: cover;
      }

      .routine-action {
        font-size: 120px;
        animation: actionBounce 1s ease-in-out infinite;
      }

      @keyframes actionBounce {
        0%,
        100% {
          transform: translateY(0) scale(1);
        }
        50% {
          transform: translateY(-20px) scale(1.1);
        }
      }

      .routine-text {
        font-size: 36px;
        font-weight: bold;
        color: #333;
        text-align: center;
      }

      .routine-props {
        display: flex;
        gap: 20px;
        font-size: 60px;
      }

      .message-header {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 15px;
        padding-bottom: 15px;
        border-bottom: 2px solid #f0f0f0;
      }

      .message-avatar {
        font-size: 50px;
      }

      .message-name {
        font-size: 20px;
        font-weight: bold;
        color: #667eea;
      }

      .message-text {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        border-radius: 20px;
        font-size: 18px;
        line-height: 1.6;
      }

      /* Next button */
      .next-button {
        position: absolute;
        bottom: 30px;
        right: 30px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        font-size: 20px;
        font-weight: bold;
        padding: 15px 40px;
        border: none;
        border-radius: 30px;
        cursor: pointer;
        box-shadow: 0 5px 20px rgba(102, 126, 234, 0.5);
        display: none;
      }

      .next-button.show {
        display: block;
        animation: fadeIn 1s ease-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      .next-button:hover {
        transform: scale(1.1);
      }
    </style>
  </head>
  <body>
    <div class="bedroom" id="bedroom">
      <!-- Stars (night time) -->
      <div class="star" style="top: 10%; left: 20%">⭐</div>
      <div class="star" style="top: 15%; left: 70%; animation-delay: 0.5s">✨</div>
      <div class="star" style="top: 25%; left: 40%; animation-delay: 1s">⭐</div>
      <div class="star" style="top: 30%; right: 20%; animation-delay: 1.5s">✨</div>
      <div class="star" style="top: 40%; left: 15%; animation-delay: 2s">⭐</div>
      <div class="star" style="top: 50%; right: 30%; animation-delay: 0.7s">✨</div>
      <div class="star" style="top: 60%; left: 60%; animation-delay: 1.3s">⭐</div>

      <!-- Moon -->
      <div class="star" style="top: 15%; right: 20%; font-size: 60px; animation: none">🌙</div>

      <!-- Window -->
      <div class="window" id="window">
        <div class="curtain left"></div>
        <div class="curtain right"></div>
        <div class="sun-ray" style="transform: rotate(0deg)"></div>
        <div class="sun-ray" style="transform: rotate(60deg)"></div>
        <div class="sun-ray" style="transform: rotate(120deg)"></div>
        <div class="sun-ray" style="transform: rotate(180deg)"></div>
        <div class="sun-ray" style="transform: rotate(240deg)"></div>
        <div class="sun-ray" style="transform: rotate(300deg)"></div>
      </div>

      <!-- Tree shadow -->
      <div class="tree-shadow">🌳</div>

      <!-- Birds -->
      <div class="bird" id="bird1" style="top: 20%; left: -100px; animation-delay: 0s">🐦</div>
      <div class="bird" id="bird2" style="top: 25%; left: -100px; animation-delay: 3s">🐦</div>
      <div class="bird" id="bird3" style="top: 18%; left: -100px; animation-delay: 5s">🐦</div>

      <!-- Music notes from birds -->
      <div class="music-note" id="note1" style="top: 22%; left: 15%; animation-delay: 0.5s">🎵</div>
      <div class="music-note" id="note2" style="top: 27%; left: 20%; animation-delay: 1s">🎶</div>
      <div class="music-note" id="note3" style="top: 20%; left: 25%; animation-delay: 1.5s">🎵</div>

      <!-- Time Display -->
      <div class="time-display" id="timeDisplay">07:00</div>

      <!-- Alarm Clock -->
      <div class="alarm-clock" id="alarmClock">⏰</div>

      <!-- Sound waves -->
      <div class="sound-wave" id="wave1"></div>
      <div class="sound-wave" id="wave2" style="animation-delay: 0.3s"></div>
      <div class="sound-wave" id="wave3" style="animation-delay: 0.6s"></div>

      <!-- Phone vibrating on bed -->
      <div class="phone-on-bed" id="phoneOnBed">📱</div>

      <!-- Screen flash -->
      <div class="screen-flash" id="screenFlash"></div>

      <!-- Notification icons flying -->
      <div class="notification-icon" id="notifIcon1">💬</div>
      <div class="notification-icon" id="notifIcon2" style="animation-delay: 0.5s">💌</div>
      <div class="notification-icon" id="notifIcon3" style="animation-delay: 1s">✨</div>

      <!-- Bed -->
      <div class="bed">
        <div class="pillow"></div>
        <div class="blanket"></div>

        <!-- Character -->
        <div class="character" id="character">
          <img src="AnhKhuonMatCuaCoAy.jpg" alt="Dương" class="character-face" id="characterFace" />
          <div class="sleep-zzz">💤</div>
          <div class="yawn-bubble" id="yawnBubble">😮‍💨</div>
          <div class="rub-eyes" id="rubEyes">👀</div>

          <!-- Anime body -->
          <div class="character-body">
            <div class="character-arms">
              <div class="arm left"></div>
              <div class="arm right"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Hand reaching for phone -->
      <div class="hand-reaching" id="handReaching">👉</div>

      <!-- Alarm Button -->
      <button class="alarm-button" id="alarmButton">🔕 TẮT BÁO THỨC</button>

      <!-- Phone -->
      <div class="phone" id="phone">
        <div class="phone-screen">
          <!-- Lock Screen -->
          <div id="lockScreen">
            <div class="phone-time">07:00</div>
            <div class="phone-date">Thứ Sáu, 3 tháng 10</div>

            <!-- Notification -->
            <div class="notification" id="notification">
              <div class="notification-header">
                <div class="notification-icon">💬</div>
                <div class="notification-title">
                  <div class="notification-app">Messenger</div>
                  <div class="notification-time-small">Vừa xong</div>
                </div>
              </div>
              <div class="notification-message">
                <strong>Đạt:</strong> Chào buổi sáng Dương, hôm nay đẹp quá nhỉ ☀️💌
              </div>
            </div>

            <!-- Unlock indicators -->
            <div class="unlock-swipe" id="unlockSwipe">
              <div class="swipe-arrow">⬆️</div>
              <div class="swipe-text">Vuốt lên để mở</div>
            </div>

            <div class="swipe-trail" id="swipeTrail"></div>
            <div class="fingerprint">🔓</div>

            <div class="phone-unlock-hint">
              <div class="swipe-indicator">👆</div>
              Vuốt lên để xem tin nhắn
            </div>
          </div>

          <!-- Messenger Screen -->
          <div class="messenger-screen" id="messengerScreen">
            <div class="messenger-header">
              <div class="back-button" id="backButton">←</div>
              <div class="messenger-avatar-big">
                <img
                  src="AnhKhuonMatCuaToi.jpg"
                  alt="Đạt"
                  style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover"
                />
              </div>
              <div class="messenger-title">Đạt</div>
            </div>
            <div class="messenger-content">
              <div class="message-bubble">
                Chào buổi sáng, em đẹp hơn ánh nắng rồi đó ☀️💌
                <div class="message-time">07:00</div>
              </div>
              <div class="message-bubble reply" id="replyMessage" style="display: none">
                Chào Đạt! Cảm ơn nha 🥰💕
                <div class="message-time">07:01</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Next Button -->
      <button class="next-button" id="nextButton">Tiếp theo ➡️</button>
    </div>

    <script>
      const alarmButton = document.getElementById('alarmButton');
      const alarmClock = document.getElementById('alarmClock');
      const bedroom = document.getElementById('bedroom');
      const phone = document.getElementById('phone');
      const notification = document.getElementById('notification');
      const lockScreen = document.getElementById('lockScreen');
      const messengerScreen = document.getElementById('messengerScreen');
      const backButton = document.getElementById('backButton');
      const nextButton = document.getElementById('nextButton');
      const windowEl = document.querySelector('.window');
      const timeDisplay = document.querySelector('.time-display');

      // Get all new elements
      const bird1 = document.getElementById('bird1');
      const bird2 = document.getElementById('bird2');
      const bird3 = document.getElementById('bird3');
      const note1 = document.getElementById('note1');
      const note2 = document.getElementById('note2');
      const note3 = document.getElementById('note3');
      const wave1 = document.getElementById('wave1');
      const wave2 = document.getElementById('wave2');
      const wave3 = document.getElementById('wave3');
      const phoneOnBed = document.getElementById('phoneOnBed');
      const screenFlash = document.getElementById('screenFlash');
      const notifIcon1 = document.getElementById('notifIcon1');
      const notifIcon2 = document.getElementById('notifIcon2');
      const notifIcon3 = document.getElementById('notifIcon3');
      const yawnBubble = document.getElementById('yawnBubble');
      const rubEyes = document.getElementById('rubEyes');
      const character = document.getElementById('character');
      const handReaching = document.getElementById('handReaching');
      const unlockSwipe = document.getElementById('unlockSwipe');
      const swipeTrail = document.getElementById('swipeTrail');

      // Auto start animation after page loads
      window.addEventListener('load', function () {
        // Wait 2 seconds (sleeping peacefully with Z's)
        setTimeout(() => {
          // Stage 1: Sunrise begins - trời bừng sáng từ từ
          bedroom.classList.add('morning');
          windowEl.classList.add('sunrise');

          // Birds start flying and singing
          bird1.classList.add('show');
          bird2.classList.add('show');
          bird3.classList.add('show');
          note1.classList.add('show');
          note2.classList.add('show');
          note3.classList.add('show');

          // After 3 seconds of peaceful sunrise, alarm rings
          setTimeout(() => {
            // Stage 2: Alarm starts - LOUD!
            alarmClock.classList.add('ringing');
            timeDisplay.classList.add('alarm-active');

            // Sound waves expand
            wave1.classList.add('show');
            wave2.classList.add('show');
            wave3.classList.add('show');

            // Phone on bed starts vibrating
            phoneOnBed.classList.add('vibrating');
            screenFlash.classList.add('show');

            // Notification icons fly up
            setTimeout(() => {
              notifIcon1.classList.add('show');
            }, 300);
            setTimeout(() => {
              notifIcon2.classList.add('show');
            }, 600);
            setTimeout(() => {
              notifIcon3.classList.add('show');
            }, 900);

            // Show alarm button
            setTimeout(() => {
              alarmButton.classList.add('show');
            }, 1000);
          }, 3000);
        }, 2000);
      });

      // Turn off alarm
      alarmButton.addEventListener('click', function () {
        // Stage 3: Turn off alarm
        alarmButton.classList.add('hidden');

        // Stop all alarm effects
        alarmClock.style.animation = 'fadeOut 1s ease-out forwards';
        phoneOnBed.style.animation = 'fadeOut 0.5s ease-out forwards';
        screenFlash.style.animation = 'fadeOut 0.5s ease-out forwards';
        timeDisplay.classList.remove('alarm-active');

        // Stage 4: Wake up sequence (detailed!)
        setTimeout(() => {
          // Step 1: First movement - slight stir
          character.style.animation = 'breathe 1s ease-in-out 3';
        }, 500);

        setTimeout(() => {
          // Step 2: Yawn
          yawnBubble.classList.add('show');
        }, 1500);

        setTimeout(() => {
          // Step 3: Start waking up - stretch arms
          character.classList.add('waking-up');
        }, 3000);

        setTimeout(() => {
          // Step 4: Rub eyes
          rubEyes.classList.add('show');
        }, 5000);

        setTimeout(() => {
          // Step 5: Sit up
          character.classList.add('sitting-up');
        }, 6500);

        setTimeout(() => {
          // Step 6: Hand reaching for phone
          handReaching.classList.add('show');
        }, 8000);

        // Stage 5: Show phone (fully awake now)
        setTimeout(() => {
          phone.classList.add('show');

          // Show unlock swipe hint
          setTimeout(() => {
            unlockSwipe.classList.add('show');
          }, 500);

          // Show notification sliding down
          setTimeout(() => {
            notification.classList.add('show');
          }, 1000);
        }, 9500);
      });

      // Click on phone to unlock and open messenger
      phone.addEventListener('click', function (e) {
        if (e.target.closest('#messengerScreen') || e.target.closest('#backButton')) {
          return; // Don't handle clicks inside messenger
        }

        // Stage 6: Unlock phone with swipe effect
        unlockSwipe.style.display = 'none';

        // Swipe trail animation
        swipeTrail.classList.add('active');

        // Hide lock screen elements
        setTimeout(() => {
          notification.style.animation = 'slideOutUp 0.5s ease-out forwards';
        }, 300);

        // Open messenger
        setTimeout(() => {
          messengerScreen.classList.add('show');

          // Stage 7: Show reply after thinking
          setTimeout(() => {
            const replyMessage = document.getElementById('replyMessage');
            replyMessage.style.display = 'block';
            replyMessage.style.animation = 'messagePop 0.5s ease-out forwards';

            // After reply, close phone and transition to next scene
            setTimeout(() => {
              closePhoneAndGetUp();
            }, 2000);
          }, 2000);
        }, 800);
      });

      // Add slideOutUp animation
      const style = document.createElement('style');
      style.textContent = `
        @keyframes slideOutUp {
          to {
            transform: translateY(-150px);
            opacity: 0;
          }
        }
        @keyframes fadeOut {
          to {
            opacity: 0;
          }
        }
        @keyframes messagePop {
          from {
            transform: scale(0.8) translateY(20px);
            opacity: 0;
          }
          to {
            transform: scale(1) translateY(0);
            opacity: 1;
          }
        }
      `;
      document.head.appendChild(style);

      // Back button (close messenger)
      backButton.addEventListener('click', function (e) {
        e.stopPropagation();
        messengerScreen.classList.remove('show');
      });

      // After replying, close phone and get up
      function closePhoneAndGetUp() {
        // Close phone animation
        phone.style.transition = 'all 1s ease-out';
        phone.style.opacity = '0';
        phone.style.transform = 'translate(-50%, -50%) scale(0) rotateY(90deg)';

        // Character gets up animation
        setTimeout(() => {
          bedroom.style.transition = 'opacity 1s ease-out';
          bedroom.style.opacity = '0';

          // TỰ ĐỘNG chuyển sang Scene 2 (không cần bấm nút)
          setTimeout(() => {
            // Fade out entire scene
            document.body.style.animation = 'sceneTransitionOut 1s ease-out forwards';

            // Navigate to Scene 2
            setTimeout(() => {
              window.location.href = 'scene2_morning_routine.html';
            }, 1000);
          }, 500);
        }, 1000);
      }

      // Next scene with smooth transition
      nextButton.addEventListener('click', function () {
        // Fade out entire scene
        document.body.style.animation = 'sceneTransitionOut 1s ease-out forwards';

        // Navigate after fade out
        setTimeout(() => {
          window.location.href = 'scene2_morning_routine.html';
        }, 1000);
      });

      // Add transition animations
      const style = document.createElement('style');
      style.textContent = `
            @keyframes fadeOut {
                to {
                    opacity: 0;
                    transform: scale(0.5);
                }
            }

            @keyframes sceneTransitionOut {
                0% {
                    opacity: 1;
                    transform: scale(1);
                    filter: blur(0px);
                }
                100% {
                    opacity: 0;
                    transform: scale(1.2);
                    filter: blur(20px);
                }
            }
        `;
      document.head.appendChild(style);
    </script>
  </body>
</html>
